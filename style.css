/* =========
   Eternal Love in the Shadows
   ========= */

/* Theme tokens */
:root{
  --bg: #07060b;            /* obsidian */
  --bg2:#0d0a14;            /* deeper */
  --ink:#efe8dc;            /* moonlight ivory */
  --muted:#c9c1b4;
  --plum:#2a1233;           /* midnight purple */
  --plum2:#1b0f26;
  --crimson:#b3122d;        /* crimson glow */
  --crimson2:#d11b3b;
  --gold:#e7c47a;           /* subtle hover */
  --line: rgba(239,232,220,.16);
  --glass: rgba(255,255,255,.04);
  --shadow: rgba(0,0,0,.55);

  --serif: "Cormorant Garamond", ui-serif, Georgia, serif;
  --sans: "Inter", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;

  --radius: 18px;
  --radius2: 26px;
  --container: 1100px;

  --ease: cubic-bezier(.2,.8,.2,1);
  --ease2: cubic-bezier(.16,1,.3,1);
}

/* Light of Dawn toggle */
body.is-dawn{
  --bg:#f6f1ea;
  --bg2:#efe7de;
  --ink:#1a141f;
  --muted:#3a2f3f;
  --plum:#4a2a59;
  --plum2:#3e254e;
  --line: rgba(26,20,31,.14);
  --glass: rgba(26,20,31,.03);
  --shadow: rgba(10,8,12,.18);
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
html{ scroll-behavior:smooth; }
body{
  margin:0;
  color:var(--ink);
  background:
    radial-gradient(1200px 600px at 20% 10%, rgba(209,27,59,.12), transparent 60%),
    radial-gradient(900px 500px at 80% 15%, rgba(72,36,90,.25), transparent 55%),
    radial-gradient(1000px 700px at 70% 90%, rgba(179,18,45,.10), transparent 55%),
    linear-gradient(180deg, var(--bg), var(--bg2));
  font-family:var(--sans);
  line-height:1.6;
  overflow-x:hidden;
}

a{ color:inherit; text-decoration:none; }
a:focus-visible, button:focus-visible, input:focus-visible, textarea:focus-visible{
  outline: 2px solid color-mix(in oklab, var(--crimson) 70%, var(--gold));
  outline-offset: 3px;
  border-radius: 12px;
}

.skip-link{
  position:absolute;
  left:-999px;
  top:10px;
  padding:.75rem 1rem;
  background:var(--bg);
  border:1px solid var(--line);
  border-radius:12px;
  z-index:1000;
}
.skip-link:focus{ left:10px; }

/* ===== Topbar ===== */
.topbar{
  position:sticky;
  top:0;
  z-index:50;
  backdrop-filter: blur(14px);
  background: linear-gradient(180deg, rgba(10,8,14,.72), rgba(10,8,14,.28));
  border-bottom: 1px solid var(--line);
}
body.is-dawn .topbar{
  background: linear-gradient(180deg, rgba(246,241,234,.82), rgba(246,241,234,.55));
}
.topbar__inner{
  max-width:var(--container);
  margin:0 auto;
  padding:.85rem 1rem;
  display:flex;
  align-items:center;
  gap:1rem;
}
.brand{
  display:flex;
  flex-direction:column;
  gap:.1rem;
  min-width: 190px;
}
.brand__sigil{
  font-size:.9rem;
  opacity:.9;
  letter-spacing:.2em;
}
.brand__name{
  font-family:var(--serif);
  font-weight:600;
  letter-spacing:.02em;
  font-size:1.05rem;
  line-height:1.05;
}
.brand__sub{
  font-family:var(--sans);
  font-size:.72rem;
  letter-spacing:.18em;
  text-transform:uppercase;
  opacity:.72;
}

.nav{
  display:none;
  gap:1.1rem;
  margin-left:auto;
}
.nav__link{
  font-size:.9rem;
  opacity:.84;
  padding:.35rem .4rem;
  border-radius:12px;
  transition: color .35s var(--ease), background-color .35s var(--ease), opacity .35s var(--ease);
}
.nav__link:hover{
  opacity:1;
  background: var(--glass);
  color: color-mix(in oklab, var(--ink) 78%, var(--gold));
}

.controls{
  margin-left:auto;
  display:flex;
  gap:.6rem;
}
.pill{
  display:inline-flex;
  align-items:center;
  gap:.55rem;
  padding:.55rem .8rem;
  border-radius:999px;
  background: var(--glass);
  border:1px solid var(--line);
  color:var(--ink);
  cursor:pointer;
  transition: transform .35s var(--ease2), border-color .35s var(--ease), background-color .35s var(--ease);
}
.pill:hover{
  transform: translateY(-1px);
  border-color: color-mix(in oklab, var(--crimson) 45%, var(--line));
}
.pill__dot{
  width:9px;height:9px;border-radius:99px;
  background: rgba(239,232,220,.25);
  box-shadow: 0 0 0 6px rgba(179,18,45,.08);
}
.pill[aria-pressed="true"] .pill__dot{
  background: var(--crimson2);
  box-shadow: 0 0 0 7px rgba(209,27,59,.14), 0 0 18px rgba(209,27,59,.18);
}
.pill__icon{ opacity:.9; }
.pill__label{ font-size:.86rem; opacity:.9; }

/* Show nav on wider screens */
@media (min-width: 860px){
  .nav{ display:flex; }
  .controls{ margin-left:0; }
  .topbar__inner{ gap:1.25rem; }
}

/* ===== Hero ===== */
.hero{
  position:relative;
  min-height: 96vh;
  display:grid;
  place-items:center;
  padding: 6.2rem 1rem 4rem;
  border-bottom: 1px solid var(--line);
  isolation:isolate;
}
.atmos{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  z-index:-2;
}
.hero__veil{
  position:absolute;
  inset:0;
  z-index:-1;
  background:
    radial-gradient(700px 420px at 30% 38%, rgba(239,232,220,.08), transparent 60%),
    radial-gradient(900px 520px at 75% 22%, rgba(179,18,45,.14), transparent 60%),
    linear-gradient(180deg, rgba(0,0,0,.55), rgba(0,0,0,.18));
  opacity:.92;
}
body.is-dawn .hero__veil{
  background:
    radial-gradient(700px 420px at 30% 38%, rgba(26,20,31,.06), transparent 60%),
    radial-gradient(900px 520px at 75% 22%, rgba(179,18,45,.08), transparent 60%),
    linear-gradient(180deg, rgba(246,241,234,.35), rgba(246,241,234,.12));
}

.hero__content{
  max-width: 980px;
  text-align:center;
  padding: 0 0 2.5rem;
}
.hero__kicker{
  font-family:var(--sans);
  letter-spacing:.22em;
  text-transform:uppercase;
  font-size:.78rem;
  opacity:.82;
  margin:0 0 1.2rem;
}
.hero__title{
  font-family:var(--serif);
  font-weight:600;
  letter-spacing:.01em;
  font-size: clamp(2.2rem, 5vw, 4.2rem);
  line-height:1.04;
  margin: 0 0 1.25rem;
  text-shadow: 0 18px 55px rgba(0,0,0,.42);
}
.hero__lede{
  margin: 0 auto 2rem;
  max-width: 62ch;
  font-size: 1.02rem;
  opacity:.92;
}
.hero__actions{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:.9rem;
  flex-wrap:wrap;
}

/* Wax-seal button */
.seal{
  position:relative;
  display:inline-flex;
  align-items:center;
  gap:.7rem;
  padding: .92rem 1.1rem;
  border-radius: 999px;
  border: 1px solid color-mix(in oklab, var(--crimson) 40%, var(--line));
  background:
    radial-gradient(120% 120% at 30% 25%, rgba(255,255,255,.10), transparent 55%),
    linear-gradient(180deg, rgba(26,16,33,.60), rgba(10,8,14,.42));
  box-shadow:
    0 18px 60px rgba(0,0,0,.35),
    inset 0 0 0 1px rgba(255,255,255,.04);
  cursor:pointer;
  transition: transform .45s var(--ease2), box-shadow .45s var(--ease2), border-color .45s var(--ease), filter .45s var(--ease);
}
body.is-dawn .seal{
  background:
    radial-gradient(120% 120% at 30% 25%, rgba(255,255,255,.55), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.65), rgba(255,255,255,.35));
}
.seal:hover{
  transform: translateY(-2px);
  border-color: color-mix(in oklab, var(--crimson2) 55%, var(--gold));
  filter: drop-shadow(0 0 22px rgba(209,27,59,.16));
}
.seal__wax{
  width: 34px;
  height: 34px;
  border-radius: 999px;
  background:
    radial-gradient(60% 70% at 35% 30%, rgba(255,255,255,.14), transparent 60%),
    radial-gradient(90% 100% at 70% 70%, rgba(0,0,0,.18), transparent 60%),
    linear-gradient(180deg, color-mix(in oklab, var(--crimson2) 92%, black), color-mix(in oklab, var(--crimson) 82%, black));
  box-shadow:
    0 10px 26px rgba(0,0,0,.35),
    inset 0 0 0 1px rgba(255,255,255,.06);
}
.seal__text{
  font-family:var(--serif);
  font-weight:600;
  letter-spacing:.02em;
}
.seal__sigil{
  opacity:.9;
  color: color-mix(in oklab, var(--ink) 72%, var(--gold));
}
.seal--small{
  padding:.75rem .95rem;
}
.seal--small .seal__wax{
  width:30px;height:30px;
}

.ghost{
  padding:.92rem 1.05rem;
  border-radius: 999px;
  border:1px solid var(--line);
  background: transparent;
  color: color-mix(in oklab, var(--ink) 85%, var(--muted));
  cursor:pointer;
  transition: transform .45s var(--ease2), border-color .45s var(--ease), color .45s var(--ease);
}
.ghost:hover{
  transform: translateY(-2px);
  border-color: color-mix(in oklab, var(--crimson) 40%, var(--line));
  color: color-mix(in oklab, var(--ink) 80%, var(--gold));
}
.ghost--link{
  padding:.55rem .2rem;
  border:none;
  border-radius: 0;
  text-decoration: underline;
  text-decoration-color: color-mix(in oklab, var(--crimson) 55%, transparent);
  text-underline-offset: .35rem;
}

.hero__hint{
  margin-top: 2.4rem;
  display:inline-flex;
  align-items:center;
  gap:.75rem;
  opacity:.75;
  font-size:.85rem;
}
.hero__line{
  width: 60px;
  height:1px;
  background: linear-gradient(90deg, transparent, var(--line), transparent);
}
.hero__hintText{
  letter-spacing:.08em;
}

/* Ornament arch + thorn divider */
.hero__ornament{
  position:absolute;
  bottom: 1.2rem;
  left: 50%;
  transform: translateX(-50%);
  width:min(900px, 92vw);
  pointer-events:none;
  opacity:.9;
}
.arch{
  height: 40px;
  border: 1px solid var(--line);
  border-bottom: none;
  border-top-left-radius: 999px;
  border-top-right-radius: 999px;
  background: linear-gradient(180deg, rgba(255,255,255,.06), transparent);
}
.thorn-divider{
  height: 1px;
  margin: .75rem auto 0;
  width: 100%;
  background:
    linear-gradient(90deg, transparent, rgba(179,18,45,.38), transparent);
  position:relative;
}
.thorn-divider::before,
.thorn-divider::after{
  content:"";
  position:absolute;
  top:50%;
  width:10px;height:10px;
  border:1px solid rgba(179,18,45,.28);
  transform: translateY(-50%) rotate(45deg);
}
.thorn-divider::before{ left: 18%; }
.thorn-divider::after{ right: 18%; }

/* ===== Sections ===== */
.section{
  padding: 5.2rem 1rem;
  position:relative;
}
.section__inner{
  max-width: var(--container);
  margin: 0 auto;
}
.section__header{
  margin: 0 0 2.2rem;
  text-align:left;
}
.section__title{
  font-family:var(--serif);
  font-weight:600;
  font-size: clamp(1.8rem, 3vw, 2.55rem);
  margin: 0 0 .4rem;
}
.section__subtitle{
  margin:0;
  color: color-mix(in oklab, var(--ink) 78%, var(--muted));
  max-width: 70ch;
}

.grid{
  display:grid;
  gap: 1.2rem;
}
.grid--two{ grid-template-columns: 1fr; }
.grid--three{ grid-template-columns: 1fr; }

@media (min-width: 860px){
  .grid--two{ grid-template-columns: 1.05fr .95fr; }
  .grid--three{ grid-template-columns: repeat(3, 1fr); }
}

/* Cards / tiles / panels */
.card, .tile, .panel, .quoteBox, .form{
  border-radius: var(--radius2);
  border: 1px solid var(--line);
  background:
    radial-gradient(120% 120% at 30% 20%, rgba(255,255,255,.07), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  box-shadow: 0 18px 55px var(--shadow);
  padding: 1.35rem 1.35rem 1.25rem;
}

.card__title, .tile__title, .panel__title{
  font-family:var(--serif);
  font-weight:600;
  margin:0 0 .55rem;
  letter-spacing:.01em;
}
.card__text, .tile__text, .panel__text{
  margin:0 0 .9rem;
  color: color-mix(in oklab, var(--ink) 80%, var(--muted));
}
.card__quote{
  margin: 1.1rem 0 0;
  padding-left: 1rem;
  border-left: 2px solid rgba(179,18,45,.38);
  color: color-mix(in oklab, var(--ink) 82%, var(--gold));
  font-family:var(--serif);
  font-style:italic;
}

.list{
  margin:0;
  padding-left: 1.1rem;
  color: color-mix(in oklab, var(--ink) 78%, var(--muted));
}
.list li{ margin: .3rem 0; }

.tile{
  position:relative;
  overflow:hidden;
}
.tile::after{
  content:"";
  position:absolute;
  inset:-40%;
  background: radial-gradient(circle at 30% 30%, rgba(179,18,45,.10), transparent 55%);
  transform: rotate(15deg);
  opacity:.9;
  pointer-events:none;
}
.tile__link{
  display:inline-flex;
  align-items:center;
  gap:.5rem;
  margin-top:.35rem;
  font-weight:500;
  color: color-mix(in oklab, var(--ink) 80%, var(--gold));
  text-decoration: underline;
  text-decoration-color: rgba(179,18,45,.32);
  text-underline-offset: .35rem;
}
.tile__link--button{
  border:none;
  background:transparent;
  padding:0;
  cursor:pointer;
}

.panel--aside{
  background:
    radial-gradient(120% 120% at 30% 20%, rgba(231,196,122,.10), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
}

/* Chips */
.chips{
  display:flex;
  flex-wrap:wrap;
  gap:.55rem;
}
.chip{
  padding:.45rem .7rem;
  border-radius:999px;
  border:1px solid var(--line);
  background: rgba(255,255,255,.03);
  font-size:.86rem;
  color: color-mix(in oklab, var(--ink) 80%, var(--muted));
}

/* Dividers */
.divider{
  display:flex;
  align-items:center;
  justify-content:center;
  gap: .8rem;
  padding: 0 1rem 1.2rem;
}
.divider__line{
  height:1px;
  width: min(240px, 22vw);
  background: linear-gradient(90deg, transparent, var(--line), transparent);
}
.divider__sigil{
  opacity:.85;
  color: color-mix(in oklab, var(--ink) 75%, var(--gold));
}
.divider__sigil--red{
  color: color-mix(in oklab, var(--crimson2) 70%, var(--gold));
}
.divider--thin{ padding-bottom: .5rem; }

.arch-divider{
  height: 70px;
  margin-top: 3rem;
  background:
    radial-gradient(120% 100% at 50% 0%, rgba(179,18,45,.14), transparent 58%),
    linear-gradient(180deg, transparent, rgba(255,255,255,.02));
  border-top: 1px solid var(--line);
}

/* Form */
.field{
  display:block;
  margin-bottom: .9rem;
}
.field__label{
  display:block;
  margin-bottom:.35rem;
  font-size:.9rem;
  opacity:.9;
  letter-spacing:.04em;
}
.field__input{
  width:100%;
  padding:.85rem .95rem;
  border-radius: 16px;
  border:1px solid var(--line);
  background: rgba(255,255,255,.03);
  color: var(--ink);
  font-family: var(--sans);
  transition: border-color .35s var(--ease), box-shadow .35s var(--ease), background-color .35s var(--ease);
}
.field__input::placeholder{
  color: color-mix(in oklab, var(--ink) 45%, transparent);
}
.field__input:focus{
  border-color: color-mix(in oklab, var(--crimson2) 55%, var(--gold));
  box-shadow: 0 0 0 6px rgba(179,18,45,.14);
}
.field__input--area{
  resize: vertical;
  min-height: 140px;
}
.form__note{
  margin:.8rem 0 0;
  color: color-mix(in oklab, var(--ink) 75%, var(--muted));
  min-height: 1.3em;
}

.quoteBox__text{
  margin:0 0 .5rem;
  font-family:var(--serif);
  font-size:1.22rem;
  line-height:1.35;
}
.quoteBox__sub{
  margin:0 0 1.2rem;
  opacity:.8;
}
.quoteBox__links{
  display:flex;
  gap: 1rem;
  flex-wrap:wrap;
}

/* CTA small button */
.cta{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:.6rem;
  padding:.85rem 1rem;
  border-radius: 999px;
  border:1px solid color-mix(in oklab, var(--crimson) 35%, var(--line));
  background: rgba(255,255,255,.03);
  color: color-mix(in oklab, var(--ink) 85%, var(--gold));
  cursor:pointer;
  transition: transform .45s var(--ease2), border-color .45s var(--ease), filter .45s var(--ease);
}
.cta:hover{
  transform: translateY(-2px);
  border-color: color-mix(in oklab, var(--crimson2) 60%, var(--gold));
  filter: drop-shadow(0 0 18px rgba(231,196,122,.10));
}
.cta__arrow{
  opacity:.85;
}

/* Footer */
.footer{
  border-top:1px solid var(--line);
  padding: 2.2rem 1rem;
  background: linear-gradient(180deg, rgba(255,255,255,.02), transparent);
}
.footer__inner{
  max-width: var(--container);
  margin:0 auto;
}
.footer__line{
  margin:0 0 .5rem;
  color: color-mix(in oklab, var(--ink) 80%, var(--muted));
}
.footer__small{
  margin:0;
  font-size:.86rem;
  opacity:.75;
}

/* ===== Modal ===== */
.modal{
  position:fixed;
  inset:0;
  display:grid;
  place-items:center;
  z-index:80;
}
.modal[hidden]{ display:none; }
.modal__backdrop{
  position:absolute;
  inset:0;
  background: rgba(0,0,0,.62);
  backdrop-filter: blur(8px);
}
body.is-dawn .modal__backdrop{
  background: rgba(10,8,12,.35);
}
.modal__panel{
  position:relative;
  width: min(620px, 92vw);
  border-radius: 26px;
  border: 1px solid var(--line);
  background:
    radial-gradient(120% 120% at 30% 20%, rgba(255,255,255,.08), transparent 65%),
    linear-gradient(180deg, rgba(26,16,33,.74), rgba(10,8,14,.62));
  box-shadow: 0 30px 110px rgba(0,0,0,.55);
  padding: 1.4rem 1.4rem 1.2rem;
}
body.is-dawn .modal__panel{
  background:
    radial-gradient(120% 120% at 30% 20%, rgba(255,255,255,.65), transparent 70%),
    linear-gradient(180deg, rgba(255,255,255,.82), rgba(255,255,255,.62));
}
.modal__close{
  position:absolute;
  top:.9rem;
  right:.95rem;
  width: 40px;
  height: 40px;
  border-radius: 999px;
  border:1px solid var(--line);
  background: rgba(255,255,255,.03);
  color: var(--ink);
  cursor:pointer;
  transition: transform .35s var(--ease2), border-color .35s var(--ease);
}
.modal__close:hover{
  transform: translateY(-1px);
  border-color: color-mix(in oklab, var(--crimson) 45%, var(--line));
}
.modal__title{
  font-family:var(--serif);
  font-weight:600;
  margin: 0 0 .55rem;
  font-size: 1.8rem;
}
.modal__body{
  margin:0 0 1.15rem;
  color: color-mix(in oklab, var(--ink) 82%, var(--muted));
}
.modal__actions{
  display:flex;
  gap:.75rem;
  flex-wrap:wrap;
}

/* ===== Reveal on scroll ===== */
.reveal{
  opacity:0;
  transform: translateY(16px);
  filter: blur(6px);
  transition:
    opacity .85s var(--ease),
    transform .85s var(--ease),
    filter .85s var(--ease);
  will-change: opacity, transform, filter;
}
.reveal.is-visible{
  opacity:1;
  transform: translateY(0);
  filter: blur(0);
}

/* Heartbeat pulse accent (used briefly) */
.pulse{
  animation: pulse 1.15s var(--ease2) 1;
}
@keyframes pulse{
  0%{ transform: translateY(0); }
  18%{ transform: translateY(-2px); }
  36%{ transform: translateY(0); }
  60%{ transform: translateY(-1px); }
  100%{ transform: translateY(0); }
}

/* Motion preferences */
@media (prefers-reduced-motion: reduce){
  html{ scroll-behavior:auto; }
  .reveal{ transition:none; transform:none; filter:none; opacity:1; }
  .seal, .ghost, .pill, .cta{ transition:none; }
  .pulse{ animation:none; }
}