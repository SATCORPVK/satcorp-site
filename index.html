<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#0a0b10" />
  <title>Able Heart — A Listening Space</title>
  <meta name="description" content="A cinematic listening space inspired by Able Heart." />

  <!-- Fonts (safe defaults; replace with your preferred pair later) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,300,400,600&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg0:#07080c;
      --bg1:#0a0b10;
      --ink:#f3f4f7;
      --muted:rgba(243,244,247,.72);
      --faint:rgba(243,244,247,.12);
      --line:rgba(243,244,247,.18);
      --accent:#b88cff; /* violet-rose */
      --accent2:#ff7aa5; /* optional warm rose */
      --radius:20px;
      --shadow:0 18px 60px rgba(0,0,0,.55);
      --serif:"Fraunces", ui-serif, Georgia, serif;
      --sans:"Inter", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      color:var(--ink);
      background:radial-gradient(1200px 900px at 70% 10%, rgba(184,140,255,.18), transparent 55%),
                 radial-gradient(900px 700px at 20% 80%, rgba(255,122,165,.10), transparent 60%),
                 linear-gradient(180deg, var(--bg0), var(--bg1));
      font-family:var(--sans);
      overflow-x:hidden;
    }

    /* film grain */
    .grain{
      pointer-events:none;
      position:fixed; inset:0;
      opacity:.12;
      mix-blend-mode:overlay;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='.45'/%3E%3C/svg%3E");
      transform:translateZ(0);
      animation:grain 7s steps(8) infinite;
    }
    @keyframes grain{
      0%{transform:translate(0,0)}
      20%{transform:translate(-4%,2%)}
      40%{transform:translate(3%,-3%)}
      60%{transform:translate(-2%,-4%)}
      80%{transform:translate(4%,3%)}
      100%{transform:translate(0,0)}
    }

    /* floating particles */
    .mist{
      pointer-events:none;
      position:fixed; inset:-10%;
      background:
        radial-gradient(circle at 20% 40%, rgba(243,244,247,.06), transparent 35%),
        radial-gradient(circle at 70% 20%, rgba(184,140,255,.08), transparent 40%),
        radial-gradient(circle at 55% 75%, rgba(255,122,165,.06), transparent 38%);
      filter:blur(12px);
      animation:drift 14s ease-in-out infinite alternate;
      opacity:.9;
    }
    @keyframes drift{
      from{transform:translate3d(-1%, -1%, 0) scale(1)}
      to{transform:translate3d(2%, 1.5%, 0) scale(1.03)}
    }

    header{
      position:sticky; top:0; z-index:20;
      backdrop-filter: blur(12px);
      background:linear-gradient(180deg, rgba(10,11,16,.72), rgba(10,11,16,.28));
      border-bottom:1px solid rgba(243,244,247,.08);
    }
    .nav{
      max-width:1100px;
      margin:0 auto;
      padding:14px 18px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
    }
    .brand{
      display:flex;
      align-items:baseline;
      gap:10px;
      letter-spacing:.08em;
      text-transform:uppercase;
      font-size:12px;
      color:var(--muted);
      user-select:none;
    }
    .brand b{
      font-family:var(--serif);
      letter-spacing:.10em;
      font-size:14px;
      color:var(--ink);
      text-transform:none;
    }
    .nav a{
      color:var(--muted);
      text-decoration:none;
      font-size:13px;
      padding:8px 10px;
      border-radius:999px;
      transition:all .2s ease;
    }
    .nav a:hover{
      color:var(--ink);
      background:rgba(243,244,247,.06);
    }
    .nav .right{
      display:flex;
      align-items:center;
      gap:6px;
      flex-wrap:wrap;
      justify-content:flex-end;
    }
    .pill{
      border:1px solid rgba(243,244,247,.12);
      background:rgba(243,244,247,.04);
    }

    main{
      max-width:1100px;
      margin:0 auto;
      padding:34px 18px 90px;
    }

    /* Intro overlay */
    .gate{
      position:fixed; inset:0;
      z-index:50;
      display:grid;
      place-items:center;
      background:radial-gradient(900px 700px at 50% 30%, rgba(184,140,255,.16), transparent 55%),
                 linear-gradient(180deg, #05060a, #0a0b10);
      transition:opacity .55s ease, visibility .55s ease;
    }
    .gate[hidden]{opacity:0; visibility:hidden}
    .gate-inner{
      width:min(760px, 92vw);
      padding:26px;
      border-radius:var(--radius);
      border:1px solid rgba(243,244,247,.12);
      background:rgba(10,11,16,.55);
      box-shadow:var(--shadow);
      text-align:center;
      position:relative;
      overflow:hidden;
    }
    .gate-inner:before{
      content:"";
      position:absolute; inset:-2px;
      background:radial-gradient(600px 260px at 50% -10%, rgba(184,140,255,.25), transparent 60%),
                 radial-gradient(520px 240px at 10% 110%, rgba(255,122,165,.16), transparent 60%);
      filter:blur(10px);
      opacity:.7;
    }
    .gate-inner > *{position:relative; z-index:1}
    .gate h1{
      margin:8px 0 10px;
      font-family:var(--serif);
      font-weight:600;
      font-size:clamp(34px, 5vw, 52px);
      letter-spacing:.02em;
    }
    .gate p{
      margin:0 auto 18px;
      max-width:56ch;
      color:var(--muted);
      line-height:1.55;
      font-size:15px;
    }

    /* heartbeat line */
    .pulse{
      margin:14px auto 18px;
      width:min(520px, 86%);
      height:42px;
      border-radius:999px;
      border:1px solid rgba(243,244,247,.10);
      background:rgba(243,244,247,.03);
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }
    svg{display:block}
    .pulse path{
      stroke:rgba(184,140,255,.85);
      stroke-width:2.2;
      fill:none;
      stroke-linecap:round;
      stroke-linejoin:round;
      stroke-dasharray: 260;
      stroke-dashoffset: 260;
      animation:draw 1.4s ease forwards;
      filter:drop-shadow(0 0 10px rgba(184,140,255,.35));
    }
    @keyframes draw{
      to{stroke-dashoffset:0}
    }

    .btn{
      appearance:none;
      border:1px solid rgba(243,244,247,.18);
      background:rgba(243,244,247,.06);
      color:var(--ink);
      padding:12px 16px;
      border-radius:999px;
      font-weight:600;
      letter-spacing:.02em;
      cursor:pointer;
      transition:transform .15s ease, background .2s ease, border-color .2s ease;
      display:inline-flex;
      align-items:center;
      gap:10px;
      user-select:none;
    }
    .btn:hover{
      transform:translateY(-1px);
      background:rgba(243,244,247,.10);
      border-color:rgba(184,140,255,.42);
    }
    .btn:active{transform:translateY(0)}
    .btn.primary{
      border-color:rgba(184,140,255,.55);
      background:linear-gradient(180deg, rgba(184,140,255,.20), rgba(243,244,247,.06));
      box-shadow:0 12px 40px rgba(184,140,255,.12);
    }
    .btn small{
      font-weight:600;
      opacity:.8;
      letter-spacing:.12em;
      text-transform:uppercase;
      font-size:11px;
    }

    /* Hero */
    .hero{
      margin-top:26px;
      padding:34px 26px;
      border:1px solid rgba(243,244,247,.10);
      border-radius:var(--radius);
      background:
        radial-gradient(820px 380px at 70% 0%, rgba(184,140,255,.18), transparent 60%),
        radial-gradient(680px 360px at 10% 120%, rgba(255,122,165,.10), transparent 55%),
        rgba(10,11,16,.42);
      box-shadow:var(--shadow);
      position:relative;
      overflow:hidden;
    }
    .hero:after{
      content:"";
      position:absolute; inset:0;
      background:linear-gradient(90deg, transparent, rgba(243,244,247,.05), transparent);
      transform:translateX(-120%);
      animation:shine 8s ease-in-out infinite;
      opacity:.35;
    }
    @keyframes shine{
      0%{transform:translateX(-120%)}
      60%{transform:translateX(120%)}
      100%{transform:translateX(120%)}
    }
    .hero-grid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:22px;
      align-items:center;
      position:relative;
      z-index:1;
    }
    @media (max-width: 860px){
      .hero-grid{grid-template-columns:1fr}
    }
    .kicker{
      color:var(--muted);
      text-transform:uppercase;
      letter-spacing:.22em;
      font-size:11px;
      margin-bottom:12px;
    }
    .hero h2{
      margin:0 0 12px;
      font-family:var(--serif);
      font-size:clamp(30px, 4.1vw, 48px);
      line-height:1.05;
      letter-spacing:.01em;
    }
    .hero p{
      margin:0 0 18px;
      color:var(--muted);
      line-height:1.6;
      max-width:62ch;
    }
    .hero-actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }

    /* Player card */
    .card{
      border:1px solid rgba(243,244,247,.10);
      border-radius:var(--radius);
      background:rgba(10,11,16,.42);
      box-shadow:var(--shadow);
      overflow:hidden;
    }
    .player{
      padding:18px;
    }
    .player-top{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:14px;
      margin-bottom:12px;
    }
    .track-title{
      font-family:var(--serif);
      font-size:22px;
      margin:0 0 4px;
    }
    .track-meta{
      color:var(--muted);
      font-size:13px;
      margin:0;
    }
    .bar{
      height:10px;
      border-radius:999px;
      background:rgba(243,244,247,.06);
      border:1px solid rgba(243,244,247,.10);
      overflow:hidden;
      margin:14px 0 10px;
    }
    .bar > i{
      display:block;
      height:100%;
      width:28%;
      border-radius:999px;
      background:linear-gradient(90deg, rgba(184,140,255,.75), rgba(255,122,165,.55));
      box-shadow:0 0 18px rgba(184,140,255,.18);
      animation:prog 6.5s ease-in-out infinite alternate;
    }
    @keyframes prog{
      from{width:18%}
      to{width:64%}
    }
    .player-controls{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
    }
    .tog{
      display:flex;
      gap:8px;
      align-items:center;
      color:var(--muted);
      font-size:12px;
      user-select:none;
    }
    .switch{
      width:42px; height:24px;
      border-radius:999px;
      border:1px solid rgba(243,244,247,.16);
      background:rgba(243,244,247,.06);
      position:relative;
      cursor:pointer;
    }
    .switch:before{
      content:"";
      position:absolute;
      top:50%; left:4px;
      width:16px; height:16px;
      border-radius:999px;
      transform:translateY(-50%);
      background:rgba(243,244,247,.75);
      transition:left .18s ease, background .18s ease;
    }
    .switch.on{
      border-color:rgba(184,140,255,.45);
      background:rgba(184,140,255,.14);
    }
    .switch.on:before{
      left:22px;
      background:rgba(184,140,255,.95);
    }

    /* Sections */
    section{
      margin-top:22px;
    }
    .section-head{
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap:18px;
      margin:26px 0 10px;
    }
    .section-head h3{
      margin:0;
      font-family:var(--serif);
      font-size:22px;
      letter-spacing:.02em;
    }
    .section-head p{
      margin:0;
      color:var(--muted);
      font-size:13px;
      max-width:70ch;
      line-height:1.45;
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:12px;
    }
    @media (max-width: 900px){
      .grid{grid-template-columns:1fr 1fr}
    }
    @media (max-width: 560px){
      .grid{grid-template-columns:1fr}
    }

    .release{
      padding:16px;
      border:1px solid rgba(243,244,247,.10);
      border-radius:18px;
      background:rgba(10,11,16,.38);
      transition:transform .18s ease, border-color .2s ease, background .2s ease;
      cursor:pointer;
      position:relative;
      overflow:hidden;
    }
    .release:hover{
      transform:translateY(-2px);
      border-color:rgba(184,140,255,.32);
      background:rgba(243,244,247,.06);
    }
    .release .tag{
      font-size:11px;
      color:var(--muted);
      text-transform:uppercase;
      letter-spacing:.22em;
      margin-bottom:10px;
    }
    .release .name{
      font-family:var(--serif);
      font-size:18px;
      margin:0 0 6px;
    }
    .release .desc{
      margin:0;
      color:var(--muted);
      font-size:13px;
      line-height:1.45;
    }

    /* Secret */
    .secret-wrap{
      margin-top:34px;
      text-align:center;
      color:rgba(243,244,247,.55);
      font-size:12px;
    }
    .secret{
      display:inline-block;
      padding:10px 14px;
      border-radius:999px;
      border:1px dashed rgba(243,244,247,.18);
      background:rgba(243,244,247,.03);
      cursor:pointer;
      transition:all .2s ease;
    }
    .secret:hover{
      color:rgba(243,244,247,.85);
      border-color:rgba(184,140,255,.30);
      background:rgba(184,140,255,.08);
    }

    /* Modal */
    .modal{
      position:fixed; inset:0;
      display:none;
      place-items:center;
      z-index:80;
      background:rgba(0,0,0,.62);
      backdrop-filter: blur(10px);
      padding:18px;
    }
    .modal.open{display:grid}
    .modal-card{
      width:min(760px, 94vw);
      border-radius:24px;
      border:1px solid rgba(243,244,247,.14);
      background:radial-gradient(800px 350px at 70% 0%, rgba(184,140,255,.18), transparent 60%),
                 radial-gradient(700px 320px at 10% 120%, rgba(255,122,165,.12), transparent 55%),
                 rgba(10,11,16,.78);
      box-shadow:0 20px 80px rgba(0,0,0,.65);
      overflow:hidden;
      position:relative;
    }
    .modal-body{
      padding:22px 22px 18px;
    }
    .modal-body h4{
      margin:0 0 6px;
      font-family:var(--serif);
      font-size:26px;
      letter-spacing:.01em;
    }
    .modal-body p{
      margin:0 0 12px;
      color:var(--muted);
      line-height:1.6;
    }
    .modal-foot{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:14px 18px;
      border-top:1px solid rgba(243,244,247,.10);
      color:rgba(243,244,247,.55);
      font-size:12px;
    }
    .x{
      border:none;
      background:transparent;
      color:rgba(243,244,247,.75);
      cursor:pointer;
      padding:10px 12px;
      border-radius:12px;
      font-weight:700;
    }
    .x:hover{background:rgba(243,244,247,.06); color:rgba(243,244,247,.95)}

    footer{
      margin-top:34px;
      padding-top:20px;
      border-top:1px solid rgba(243,244,247,.08);
      color:rgba(243,244,247,.55);
      font-size:12px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:space-between;
      align-items:center;
    }
    footer a{color:rgba(243,244,247,.7); text-decoration:none}
    footer a:hover{color:rgba(243,244,247,.95)}
    .tiny{opacity:.75}
  </style>
</head>

<body>
  <div class="mist"></div>
  <div class="grain"></div>

  <!-- Intro / Gate -->
  <div class="gate" id="gate" aria-label="Entrance overlay">
    <div class="gate-inner">
      <div class="kicker">A listening space</div>
      <h1>Able Heart</h1>
      <p>For the moments that feel too big for words. Soft light, slow breathing UI, and a place to sit with the music.</p>

      <div class="pulse" aria-hidden="true">
        <svg width="520" height="42" viewBox="0 0 520 42" role="img" aria-label="Pulse line">
          <path d="M10 22 L90 22 L120 22 L140 22 L155 12 L170 34 L190 10 L210 32 L230 22 L510 22" />
        </svg>
      </div>

      <button class="btn primary" id="enterBtn">
        <span aria-hidden="true">▶</span>
        <span>Enter</span>
        <small>Slow &amp; intentional</small>
      </button>
      <div style="margin-top:10px; color:rgba(243,244,247,.55); font-size:12px;">
        Tip: press <b>Esc</b> anytime to close overlays.
      </div>
    </div>
  </div>

  <header>
    <div class="nav">
      <div class="brand"><b>Able Heart</b> <span>• listening space</span></div>
      <div class="right">
        <a href="#music">Music</a>
        <a href="#visuals">Moments</a>
        <a href="#about">About</a>
        <a class="pill" href="#note">A note</a>
      </div>
    </div>
  </header>

  <main>
    <!-- HERO -->
    <div class="hero" id="top">
      <div class="hero-grid">
        <div>
          <div class="kicker">Midnight glow • velvet quiet</div>
          <h2>Built to feel like the first 5 seconds of a song.</h2>
          <p>
            This isn’t a “website.” It’s an atmosphere—soft light, small details, and a place that holds the emotion
            the way Able Heart does.
          </p>
          <div class="hero-actions">
            <button class="btn primary" id="playBtn">▶ Play the mood</button>
            <button class="btn" id="openNoteBtn">Open the note</button>
            <span class="tiny">No real audio by default (safe demo). Add your embeds later.</span>
          </div>
        </div>

        <div class="card">
          <div class="player" aria-label="Demo player card">
            <div class="player-top">
              <div>
                <p class="track-title" id="trackTitle">“Soft Static”</p>
                <p class="track-meta" id="trackMeta">Demo track • 02:48 • headphone hours</p>
              </div>
              <button class="btn" id="nextBtn" title="Next mood">Next ▸</button>
            </div>

            <div class="bar" aria-hidden="true"><i></i></div>

            <div class="player-controls">
              <button class="btn" id="togglePlay">▶ Play</button>

              <div class="tog">
                <span>Ambient</span>
                <div class="switch" id="ambSwitch" role="switch" aria-checked="false" tabindex="0" title="Toggle ambient visuals"></div>
              </div>

              <div class="tog">
                <span>Liner notes</span>
                <div class="switch" id="linerSwitch" role="switch" aria-checked="false" tabindex="0" title="Toggle liner notes mode"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- MUSIC -->
    <section id="music">
      <div class="section-head">
        <div>
          <h3>Music</h3>
          <p>Each card is a feeling. Swap titles/art later—this is a clean “Able Heart”-style framework to drop real releases into.</p>
        </div>
      </div>

      <div class="grid" id="releaseGrid">
        <div class="release" data-title="“Neon Lullaby”" data-desc="A slow pulse. The kind of track that turns headlights into poetry.">
          <div class="tag">Release</div>
          <h4 class="name">Neon Lullaby</h4>
          <p class="desc">A slow pulse. Headlights into poetry.</p>
        </div>
        <div class="release" data-title="“Glass Hearts”" data-desc="Bright on the edge of breaking. Warmth under the noise.">
          <div class="tag">Release</div>
          <h4 class="name">Glass Hearts</h4>
          <p class="desc">Bright on the edge of breaking.</p>
        </div>
        <div class="release" data-title="“After the Show”" data-desc="Stage smoke, quiet streets, and the feeling that lingers.">
          <div class="tag">Release</div>
          <h4 class="name">After the Show</h4>
          <p class="desc">Stage smoke and quiet streets.</p>
        </div>
      </div>
    </section>

    <!-- VISUALS -->
    <section id="visuals">
      <div class="section-head">
        <div>
          <h3>Moments</h3>
          <p>Not “videos.” Moments. Minimal, editorial, and intimate.</p>
        </div>
      </div>

      <div class="grid">
        <div class="release" data-title="Moment: Midnight Drive" data-desc="This song feels like the road knows your name.">
          <div class="tag">Moment</div>
          <h4 class="name">Midnight Drive</h4>
          <p class="desc">The road knows your name.</p>
        </div>
        <div class="release" data-title="Moment: Static Bloom" data-desc="Soft distortion, soft light. Like a memory you can hear.">
          <div class="tag">Moment</div>
          <h4 class="name">Static Bloom</h4>
          <p class="desc">A memory you can hear.</p>
        </div>
        <div class="release" data-title="Moment: Liner Notes" data-desc="Some songs don’t fix you. They just sit with you.">
          <div class="tag">Moment</div>
          <h4 class="name">Liner Notes</h4>
          <p class="desc">They just sit with you.</p>
        </div>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about">
      <div class="section-head">
        <div>
          <h3>About</h3>
          <p>Write this like a poem, not a biography. (Replace copy with real artist info if you’re publishing.)</p>
        </div>
      </div>

      <div class="card">
        <div class="player" style="padding:22px 20px;">
          <p style="margin:0 0 8px; font-family:var(--serif); font-size:20px;">
            Some artists build songs. Able Heart builds rooms.
          </p>
          <p style="margin:0; color:var(--muted); line-height:1.7;">
            A place where quiet becomes cinematic. Where the smallest detail matters. Where the hook hits like a memory.
            The sound lives somewhere between warmth and electricity—heart, machine, and a slow pulse of light.
          </p>
        </div>
      </div>
    </section>

    <!-- SECRET / NOTE -->
    <div class="secret-wrap" id="note">
      <span class="secret" id="secretBtn">There’s more, if you’re listening closely.</span>
    </div>

    <footer>
      <div class="tiny">Built as a romantic demo experience. Swap in real embeds + official links when ready.</div>
      <div>
        <a href="#top">Back to top</a>
        <span class="tiny"> • </span>
        <a href="#music">Music</a>
        <span class="tiny"> • </span>
        <a href="#about">About</a>
      </div>
    </footer>
  </main>

  <!-- Modal (used for releases + secret note) -->
  <div class="modal" id="modal" aria-hidden="true" role="dialog" aria-label="Overlay dialog">
    <div class="modal-card">
      <div class="modal-body">
        <div style="display:flex; align-items:flex-start; justify-content:space-between; gap:12px;">
          <div>
            <h4 id="modalTitle">A note</h4>
            <p id="modalDesc">
              This is where your message goes.
            </p>
          </div>
          <button class="x" id="closeModal" aria-label="Close">✕</button>
        </div>

        <div id="linerBlock" style="display:none; margin-top:14px; border-top:1px solid rgba(243,244,247,.10); padding-top:14px;">
          <p style="margin:0 0 10px; color:rgba(243,244,247,.55); letter-spacing:.22em; text-transform:uppercase; font-size:11px;">
            Liner notes
          </p>
          <p style="margin:0; color:var(--muted); line-height:1.75;">
            Replace this with a short lyric-inspired paragraph (not actual copyrighted lyrics).
            Think: what the song feels like, where it takes you, what it leaves behind.
          </p>
        </div>
      </div>
      <div class="modal-foot">
        <span id="modalFoot">Press Esc to close</span>
        <span>—</span>
      </div>
    </div>
  </div>

  <script>
    // --- Entrance gate ---
    const gate = document.getElementById("gate");
    const enterBtn = document.getElementById("enterBtn");
    const playBtn = document.getElementById("playBtn");
    const openNoteBtn = document.getElementById("openNoteBtn");

    const modal = document.getElementById("modal");
    const modalTitle = document.getElementById("modalTitle");
    const modalDesc  = document.getElementById("modalDesc");
    const modalFoot  = document.getElementById("modalFoot");
    const closeModal = document.getElementById("closeModal");
    const linerBlock = document.getElementById("linerBlock");

    const ambSwitch = document.getElementById("ambSwitch");
    const linerSwitch = document.getElementById("linerSwitch");

    const trackTitle = document.getElementById("trackTitle");
    const trackMeta = document.getElementById("trackMeta");
    const nextBtn = document.getElementById("nextBtn");
    const togglePlay = document.getElementById("togglePlay");

    const tracks = [
      { title: "“Soft Static”", meta: "Demo track • 02:48 • headphone hours" },
      { title: "“Neon Lullaby”", meta: "Demo track • 03:12 • midnight glow" },
      { title: "“After the Show”", meta: "Demo track • 04:01 • city haze" }
    ];
    let t = 0;
    let playing = false;

    function hideGate(){
      gate.setAttribute("hidden", "true");
      setTimeout(()=> gate.style.display="none", 650);
    }

    enterBtn.addEventListener("click", hideGate);

    // optional: click anywhere outside the inner card to enter
    gate.addEventListener("click", (e)=>{
      if(e.target === gate) hideGate();
    });

    // --- Modal helpers ---
    function openModal(title, desc, foot="Press Esc to close"){
      modal.classList.add("open");
      modal.setAttribute("aria-hidden","false");
      modalTitle.textContent = title;
      modalDesc.textContent  = desc;
      modalFoot.textContent  = foot;
    }
    function close(){
      modal.classList.remove("open");
      modal.setAttribute("aria-hidden","true");
    }

    closeModal.addEventListener("click", close);
    modal.addEventListener("click", (e)=>{ if(e.target === modal) close(); });

    window.addEventListener("keydown", (e)=>{
      if(e.key === "Escape"){
        if(modal.classList.contains("open")) close();
        else if(gate && gate.style.display !== "none") hideGate();
      }
    });

    // --- Switch toggles ---
    function toggleSwitch(el){
      el.classList.toggle("on");
      const on = el.classList.contains("on");
      el.setAttribute("aria-checked", on ? "true" : "false");
      return on;
    }

    ambSwitch.addEventListener("click", ()=>{
      const on = toggleSwitch(ambSwitch);
      // subtle ambient intensity change
      document.querySelector(".mist").style.opacity = on ? "1" : ".75";
      document.querySelector(".grain").style.opacity = on ? ".15" : ".10";
    });
    ambSwitch.addEventListener("keydown", (e)=>{ if(e.key==="Enter"||e.key===" "){ e.preventDefault(); ambSwitch.click(); }});

    linerSwitch.addEventListener("click", ()=>{
      const on = toggleSwitch(linerSwitch);
      linerBlock.style.display = on ? "block" : "none";
    });
    linerSwitch.addEventListener("keydown", (e)=>{ if(e.key==="Enter"||e.key===" "){ e.preventDefault(); linerSwitch.click(); }});

    // --- Fake player (demo UI only) ---
    function setTrack(i){
      t = (i + tracks.length) % tracks.length;
      trackTitle.textContent = tracks[t].title;
      trackMeta.textContent  = tracks[t].meta;
    }
    nextBtn.addEventListener("click", ()=> setTrack(t+1));

    togglePlay.addEventListener("click", ()=>{
      playing = !playing;
      togglePlay.textContent = playing ? "❚❚ Pause" : "▶ Play";
      // tiny feedback pulse
      document.documentElement.style.setProperty("--accent", playing ? "#ff7aa5" : "#b88cff");
      setTimeout(()=> document.documentElement.style.setProperty("--accent", "#b88cff"), 420);
    });

    playBtn.addEventListener("click", ()=>{
      playing = true;
      togglePlay.textContent = "❚❚ Pause";
      openModal("Play the mood", "Drop your real Able Heart embed here (Spotify, Apple Music, YouTube). The site is designed so the player feels like part of the atmosphere—not a loud widget.", "Tip: replace demo with an iframe embed");
      linerBlock.style.display = linerSwitch.classList.contains("on") ? "block" : "none";
    });

    // --- Release cards open modal ---
    document.getElementById("releaseGrid").addEventListener("click", (e)=>{
      const card = e.target.closest(".release");
      if(!card) return;
      openModal(card.dataset.title || "Release", card.dataset.desc || "—", "Click outside to close");
      linerBlock.style.display = linerSwitch.classList.contains("on") ? "block" : "none";
    });

    // Moments grid (same behavior)
    document.querySelectorAll("#visuals .release").forEach(el=>{
      el.addEventListener("click", ()=>{
        openModal(el.dataset.title || "Moment", el.dataset.desc || "—", "Click outside to close");
        linerBlock.style.display = linerSwitch.classList.contains("on") ? "block" : "none";
      });
    });

    // --- Secret note (make this personal) ---
    const secretBtn = document.getElementById("secretBtn");
    secretBtn.addEventListener("click", ()=>{
      openModal(
        "A note for you",
        "I know how much Able Heart means to you. So I wanted to build a place that feels the way the music makes you feel—quiet, beautiful, and real. This is my love letter in code.",
        "You can replace this message with your exact words"
      );
      linerBlock.style.display = "none";
    });

    openNoteBtn.addEventListener("click", ()=> secretBtn.click());
  </script>
</body>
</html>
